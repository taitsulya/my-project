-- DDL

CREATE TABLE LANGUAGE
(
    ID         INTEGER PRIMARY KEY,
    NAME       VARCHAR(20)
);
CREATE TABLE LANGUAGE_LEVEL
(
    ID         INTEGER PRIMARY KEY,
    LEVEL      VARCHAR(30)
);
CREATE TABLE USER
(
    ID                   INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    ROLE                 INTEGER,
    LOGIN                VARCHAR(30),
    PASSWORD             VARCHAR(30),
    NAME                 VARCHAR(30),
    GENDER               INTEGER,
    BIRTHDATE            DATE,
    FIRST_LANGUAGE       INTEGER REFERENCES LANGUAGE (ID),
    LEARNING_LANGUAGE    INTEGER REFERENCES LANGUAGE (ID),
    LANGUAGE_LEVEL       INTEGER,
    IMAGE                VARCHAR(100) DEFAULT '/IMAGES/IMAGE.PNG',
    SESSION_UUID         VARCHAR(50),
    DESCRIPTION          VARCHAR(1000)
);


CREATE TABLE MESSAGE
(
    ID         INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    SENDER     INTEGER REFERENCES USER (ID),
    RECEIVER   INTEGER REFERENCES USER (ID),
    TEXT       VARCHAR(4000),
    CREATED_AT DATETIME
);


COMMIT;